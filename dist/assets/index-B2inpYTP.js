const __vite__fileDeps=["assets/RitualsPager-DvKf8rDD.js","assets/chunk-C02y-XeT.js","assets/chunk-DtX1tuCI.js","assets/chunk-BuVI32lr.js","assets/chunk-BG1X0chb.js","assets/chunk-CJaK7wvR.js","assets/chunk-BeE17Zin.js","assets/EmotionalDiary-Bv1C9Lhg.js","assets/Shop-4-m_CmKe.js","assets/ProfileSection-Bs7oOsi-.js","assets/SoundSettings-JpBLhFZX.js","assets/SupportCard-CnJ6PJLM.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var e,t=Object.defineProperty,o=Object.defineProperties,i=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(e,o,i)=>o in e?t(e,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[o]=i,l=(e,t)=>{for(var o in t||(t={}))r.call(t,o)&&s(e,o,t[o]);if(n)for(var o of n(t))a.call(t,o)&&s(e,o,t[o]);return e},c=(e,t)=>o(e,i(t)),d=(e,t,o)=>(s(e,"symbol"!=typeof t?t+"":t,o),o),p=(e,t,o)=>new Promise((i,n)=>{var r=e=>{try{s(o.next(e))}catch(t){n(t)}},a=e=>{try{s(o.throw(e))}catch(t){n(t)}},s=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,a);s((o=o.apply(e,t)).next())});import{j as u,m as h,A as m}from"./chunk-C02y-XeT.js";import{a as g,r as x,R as f}from"./chunk-DtX1tuCI.js";import{n as b,h as y,p as w,f as v}from"./chunk-BuVI32lr.js";import{p as S}from"./chunk-BeE17Zin.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var $={},C=g;$.createRoot=C.createRoot,$.hydrateRoot=C.hydrateRoot;const k={radius:{sm:"8px",card:"16px",button:"20px",chip:"24px",lg:"16px"},space:{xs:"8px",sm:"12px",md:"16px",lg:"24px",xl:"32px"},size:{tap:"48px",cardMinH:"100px",tapMin:"48px",fabSize:"56px",tabBarHeight:"56px"},motion:{base:"280ms",fast:"200ms",slow:"300ms",easing:"cubic-bezier(0.2, 0.8, 0.2, 1)",easingIn:"cubic-bezier(0.55, 0.055, 0.675, 0.19)",easingOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",easingInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)"},zones:{edgeSafe:"16px",gapXs:"8px",gapSm:"12px",gapMd:"16px",gapLg:"24px",layerBottomElev:12,gripArea:"24px"},typography:{fontFamily:{primary:'"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',display:'"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif'},fontSize:{xs:"12px",sm:"14px",base:"16px",lg:"18px",xl:"20px","2xl":"24px","3xl":"28px"},fontWeight:{normal:"400",medium:"500",semibold:"600",bold:"700"},lineHeight:{tight:"1.2",normal:"1.5",relaxed:"1.6",loose:"1.8"}},color:{bg:"#F5F3EE",surface:"#FFFFFF",border:"#DDE7E1",text:"#556B6D",textMuted:"#748B83",accent:"#A7C7B7",warm:{light:"#FFDFA4",medium:"#F7BFA0",dark:"#E4CFA3"},effort:{easy:"#A7C7B7",medium:"#F7BFA0",energetic:"#E4CFA3"},shadow:"rgba(85, 107, 109, 0.08)",pet:{primary:"#A7C7B7",secondary:"#DDE7E1",accent:"#FFDFA4"}}},j=c(l({},k),{color:c(l({},k.color),{bg:"#F5F3EE",surface:"#FFFFFF",border:"#DDE7E1",text:"#556B6D",textMuted:"#748B83",accent:"#A7C7B7"})}),E=c(l({},k),{color:c(l({},k.color),{bg:"#1C1F22",surface:"#2E3437",border:"#445156",text:"#C8D6D1",textMuted:"#7C8C87",accent:"#7C8C87",warm:{light:"#E4CFA3",medium:"#F7BFA0",dark:"#FFDFA4"},effort:{easy:"#7C8C87",medium:"#F7BFA0",energetic:"#E4CFA3"},pet:{primary:"#7C8C87",secondary:"#445156",accent:"#E4CFA3"}})}),D=c(l({},k),{color:c(l({},k.color),{bg:"#F0F9FF",surface:"#FFFFFF",border:"#E0F2FE",text:"#0C4A6E",textMuted:"#0369A1",accent:"#0284C7",warm:{light:"#BAE6FD",medium:"#7DD3FC",dark:"#38BDF8"},effort:{easy:"#0284C7",medium:"#7DD3FC",energetic:"#38BDF8"},pet:{primary:"#0284C7",secondary:"#E0F2FE",accent:"#BAE6FD"}})}),F=c(l({},k),{color:c(l({},k.color),{bg:"#F0FDF4",surface:"#FFFFFF",border:"#DCFCE7",text:"#14532D",textMuted:"#166534",accent:"#16A34A",warm:{light:"#BBF7D0",medium:"#86EFAC",dark:"#4ADE80"},effort:{easy:"#16A34A",medium:"#86EFAC",energetic:"#4ADE80"},pet:{primary:"#16A34A",secondary:"#DCFCE7",accent:"#BBF7D0"}})}),A=x.createContext(void 0),M={light:j,dark:E,ocean:D,forest:F},z=({children:e})=>{const[t,o]=x.useState(()=>"light"),i=M[t];return x.useEffect(()=>{try{const e=localStorage.getItem("gropy-theme");e&&M[e]&&o(e)}catch(e){}},[]),x.useEffect(()=>{document.documentElement.setAttribute("data-theme",t)},[t]),u.jsx(A.Provider,{value:{theme:i,themeName:t,setTheme:e=>{o(e);try{localStorage.setItem("gropy-theme",e)}catch(t){}}},children:u.jsx(b,{theme:i,children:e})})},I=()=>{const e=x.useContext(A);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e},O=y`

  * {
    box-sizing: border-box;
  }

  html {
    font-size: 16px;
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  body {
    margin: 0;
    font-family: ${k.typography.fontFamily.primary};
    font-size: ${k.typography.fontSize.base};
    font-weight: ${k.typography.fontWeight.normal};
    line-height: ${k.typography.lineHeight.relaxed};
    background-color: ${({theme:e})=>e.color.bg};
    color: ${({theme:e})=>e.color.text};
    letter-spacing: -0.01em;
    min-height: 100vh;
    padding-bottom: env(safe-area-inset-bottom);
  }

  #root {
    min-height: 100vh;
  }

  /* Typography improvements */
  h1, h2, h3, h4, h5, h6 {
    font-family: ${k.typography.fontFamily.display};
    font-weight: ${k.typography.fontWeight.semibold};
    line-height: ${k.typography.lineHeight.tight};
    margin: 0;
    letter-spacing: -0.02em;
  }

  h1 {
    font-size: ${k.typography.fontSize["3xl"]};
  }

  h2 {
    font-size: ${k.typography.fontSize["2xl"]};
  }

  h3 {
    font-size: ${k.typography.fontSize.xl};
  }

  h4 {
    font-size: ${k.typography.fontSize.lg};
  }

  p {
    margin: 0;
    line-height: ${k.typography.lineHeight.relaxed};
    font-size: ${k.typography.fontSize.base};
  }

  small {
    font-size: ${k.typography.fontSize.sm};
    line-height: ${k.typography.lineHeight.normal};
  }

  /* Focus styles */
  *:focus-visible {
    outline: 2px solid ${({theme:e})=>e.color.accent};
    outline-offset: 2px;
  }

  /* Screen reader only */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  /* Performance optimizations */
  * {
    will-change: auto;
  }

  /* GPU acceleration for animations */
  [data-framer-component-type] {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Button reset */
  button {
    border: none;
    background: none;
    padding: 0;
    font: inherit;
    cursor: pointer;
  }

  /* Input reset */
  input, textarea {
    border: none;
    background: none;
    padding: 0;
    font: inherit;
    outline: none;
  }

  /* List reset */
  ul, ol {
    list-style: none;
    padding: 0;
    margin: 0;
  }
`,T={},_=function(e,t,o){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),o=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));i=Promise.all(t.map(e=>{if((e=function(e){return"/"+e}(e))in T)return;T[e]=!0;const t=e.endsWith(".css"),i=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${i}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script",n.crossOrigin=""),n.href=e,o&&n.setAttribute("nonce",o),document.head.appendChild(n),t?new Promise((t,o)=>{n.addEventListener("load",t),n.addEventListener("error",()=>o(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}return i.then(()=>e()).catch(e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e})},P=(e,t)=>{try{const o=localStorage.getItem(e);return o?JSON.parse(o):t}catch(o){return t}},R=(e,t)=>{try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(o){return!1}},B=e=>{const t=(e=>"string"!=typeof e?"":e.length>200?e.slice(0,200):[/<script/i,/on\w+\s*=/i,/javascript:/i,/data:/i].some(t=>t.test(e))?"":S.sanitize(e,{ALLOWED_TAGS:[],ALLOWED_ATTR:[]}))(e);return t.trim()?t.length<2?{isValid:!1,error:"ÐœÐ¸Ð½Ð¸Ð¼ÑƒÐ¼ 2 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°"}:t.length>200?{isValid:!1,error:"ÐœÐ°ÐºÑÐ¸Ð¼ÑƒÐ¼ 200 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²"}:{isValid:!0}:{isValid:!1,error:"Ð¢ÐµÐºÑÑ‚ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð¿ÑƒÑÑ‚Ñ‹Ð¼"}},L="gropy-todos",H="gropy-game-state",W=()=>(new Date).toISOString().split("T")[0],N=e=>100*e+50*(e-1),V={points:0,level:1,experience:0,streak:0,lastActivityDateUTC:W(),achievements:[]},U="gropy-daily-visit",J="gropy-celebration-count",G=()=>{const[e,t]=x.useState(!1),[o,i]=x.useState(!1);x.useEffect(()=>{var e;const o=null==(e=window.Telegram)?void 0:e.WebApp;i(!!o);const n=(new Date).toISOString().split("T")[0],r=P(U,"")!==n;t(r),r&&R(U,n)},[]);return{isFirstVisitToday:e,isTelegram:o,getGreeting:x.useCallback(()=>{const e=(new Date).getHours();return e<12?"Ð”Ð¾Ð±Ñ€Ð¾Ðµ ÑƒÑ‚Ñ€Ð¾! â˜€ï¸":e<18?"Ð”Ð¾Ð±Ñ€Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ! ðŸŒ¤ï¸":"Ð”Ð¾Ð±Ñ€Ñ‹Ð¹ Ð²ÐµÑ‡ÐµÑ€! ðŸŒ™"},[]),celebrateCompletion:x.useCallback(()=>{(()=>{var e,t,o,i;try{null==(i=null==(o=null==(t=null==(e=window.Telegram)?void 0:e.WebApp)?void 0:t.HapticFeedback)?void 0:o.notificationOccurred)||i.call(o,"success")}catch(n){}})();const e=P(J,0);R(J,e+1)},[]),getMotivationalMessage:x.useCallback(()=>{const e=["Ð¢Ñ‹ Ð¼Ð¾Ð»Ð¾Ð´ÐµÑ†! ðŸ’š","ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°! âœ¨","ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð°Ð¹ Ð² Ñ‚Ð¾Ð¼ Ð¶Ðµ Ð´ÑƒÑ…Ðµ! ðŸŒŸ","ÐšÐ°Ð¶Ð´Ñ‹Ð¹ ÑˆÐ°Ð³ Ð²Ð°Ð¶ÐµÐ½! ðŸŽ¯","Ð¢Ñ‹ Ð½Ð° Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð¼ Ð¿ÑƒÑ‚Ð¸! ðŸš€"];return e[Math.floor(Math.random()*e.length)]},[])}},q=[{id:"rain_support_1",moods:["rain"],text:"Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ Ñ‚ÐµÐ±Ñ Ð½Ð° 1% Ð¿Ñ€ÑÐ¼Ð¾ ÑÐµÐ¹Ñ‡Ð°Ñ?",chips:["Ð³Ð»Ð¾Ñ‚Ð¾Ðº Ð²Ð¾Ð´Ñ‹","Ð³Ð»ÑƒÐ±Ð¾ÐºÐ¸Ð¹ Ð²Ð´Ð¾Ñ…","Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð² Ð¾ÐºÐ½Ð¾","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]},{id:"rain_blanket",moods:["rain"],text:"ÐµÑÐ»Ð¸ Ð±Ñ‹ Ð±Ñ‹Ð» Ð¼ÑÐ³ÐºÐ¸Ð¹ Ð¿Ð»ÐµÐ´ â€” Ñ‡ÐµÐ¼ Ð±Ñ‹Ð» Ð±Ñ‹ Ð¾Ð½ Ð´Ð»Ñ Ñ‚ÐµÐ±Ñ ÑÐµÐ³Ð¾Ð´Ð½Ñ?",chips:["Ñ‚ÐµÐ¿Ð»Ð¾","Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ","Ð¿Ð¾ÐºÐ¾Ð¹","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]},{id:"storm_small_action",moods:["storm"],text:"Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ñ€ÑÐ¼Ð¾ ÑÐµÐ¹Ñ‡Ð°Ñ?",chips:["Ð¿Ð¾Ð´Ñ‹ÑˆÐ°Ñ‚ÑŒ","Ð²Ñ‹Ð¿Ð¸Ñ‚ÑŒ Ð²Ð¾Ð´Ñ‹","Ð¿Ð¾Ñ‚ÑÐ½ÑƒÑ‚ÑŒÑÑ","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]},{id:"storm_enough",moods:["storm"],text:"Ñ‡Ñ‚Ð¾ Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð´Ð»Ñ ÑÑ‚Ð¾Ð³Ð¾ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚Ð°?",chips:["Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð±Ñ‹Ñ‚ÑŒ","Ð´Ñ‹ÑˆÐ°Ñ‚ÑŒ","Ð½Ðµ ÑÐ´Ð°Ð²Ð°Ñ‚ÑŒÑÑ","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]},{id:"clouds_tired",moods:["clouds"],text:"Ñ‡Ñ‚Ð¾ ÑÐµÐ¹Ñ‡Ð°Ñ Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÐµÑ‚ÑÑ?",chips:["ÑƒÑÑ‚Ð°Ð»Ð¾ÑÑ‚ÑŒ","Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ð¾ÑÑ‚ÑŒ","ÑÐ¿Ð¾ÐºÐ¾Ð¹ÑÑ‚Ð²Ð¸Ðµ","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]},{id:"clouds_clarity",moods:["clouds"],text:"Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ñ€Ð¾ÑÑÐ½Ð¸Ñ‚ÑŒ Ð¼Ñ‹ÑÐ»Ð¸?",chips:["Ð¿Ñ€Ð¾Ð³ÑƒÐ»ÐºÐ°","Ñ€Ð°Ð·Ð³Ð¾Ð²Ð¾Ñ€","Ð¼ÑƒÐ·Ñ‹ÐºÐ°","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]},{id:"wind_direction",moods:["wind"],text:"ÐºÑƒÐ´Ð° Ñ‚ÐµÐ±Ñ Ñ‚ÑÐ½ÐµÑ‚? Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¸Ð¹ ÑˆÐ°Ð³ Ð² Ñ‚Ñƒ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ñƒ?",chips:["Ðº Ð¿Ñ€Ð¸Ñ€Ð¾Ð´Ðµ","Ðº Ð»ÑŽÐ´ÑÐ¼","Ðº Ñ‚Ð²Ð¾Ñ€Ñ‡ÐµÑÑ‚Ð²Ñƒ","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]},{id:"wind_let_go",moods:["wind"],text:"Ñ‡Ñ‚Ð¾ Ð¾Ñ‚Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð¿Ñ€ÑÐ¼Ð¾ ÑÐµÐ¹Ñ‡Ð°Ñ?",chips:["ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ","Ð¾Ð¶Ð¸Ð´Ð°Ð½Ð¸Ñ","ÑÑ‚Ñ€Ð°Ñ…Ð¸","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]},{id:"sun_warmth",moods:["sun"],text:"Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ð´Ð°Ñ€Ð¸Ð»Ð¾ Ñ‚ÐµÐ¿Ð»Ð¾ ÑÐµÐ³Ð¾Ð´Ð½Ñ?",chips:["Ð²ÑÑ‚Ñ€ÐµÑ‡Ð° Ñ Ð´Ñ€ÑƒÐ³Ð¾Ð¼","Ñ…Ð¾Ñ€Ð¾ÑˆÐ°Ñ Ð½Ð¾Ð²Ð¾ÑÑ‚ÑŒ","Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ°Ñ Ñ€Ð°Ð´Ð¾ÑÑ‚ÑŒ","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]},{id:"sun_thanks",moods:["sun"],text:"ÐºÐ¾Ð¼Ñƒ Ð±Ñ‹ Ñ‚Ñ‹ ÑÐºÐ°Ð·Ð°Ð» ÑÐ¿Ð°ÑÐ¸Ð±Ð¾?",chips:["ÑÐµÐ±Ðµ","Ð±Ð»Ð¸Ð·ÐºÐ¾Ð¼Ñƒ","Ð½ÐµÐ·Ð½Ð°ÐºÐ¾Ð¼Ñ†Ñƒ","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]},{id:"rainbow_moment",moods:["rainbow"],text:"Ñ‡Ñ‚Ð¾ ÑÐµÐ³Ð¾Ð´Ð½Ñ Ð¿Ñ€Ð¸Ð½ÐµÑÐ»Ð¾ Ñ€Ð°Ð´Ð¾ÑÑ‚ÑŒ?",chips:["Ð²ÑÑ‚Ñ€ÐµÑ‡Ð° Ñ Ð´Ñ€ÑƒÐ³Ð¾Ð¼","Ñ…Ð¾Ñ€Ð¾ÑˆÐ°Ñ Ð½Ð¾Ð²Ð¾ÑÑ‚ÑŒ","Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ°Ñ Ð¿Ð¾Ð±ÐµÐ´Ð°","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]},{id:"rainbow_body",moods:["rainbow"],text:"Ð³Ð´Ðµ Ð² Ñ‚ÐµÐ»Ðµ Ð¶Ð¸Ð²Ñ‘Ñ‚ ÑÑ‚Ð¾ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¾?",chips:["Ð² Ð³Ñ€ÑƒÐ´Ð¸","Ð² Ð¶Ð¸Ð²Ð¾Ñ‚Ðµ","Ð²Ð¾ Ð²ÑÑ‘Ð¼ Ñ‚ÐµÐ»Ðµ","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]},{id:"rainbow_share",moods:["rainbow"],text:"Ñ…Ð¾Ñ‡ÐµÑ‚ÑÑ Ð¿Ð¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ ÑÑ‚Ð¸Ð¼ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸ÐµÐ¼?",chips:["Ð´Ð°, Ñ…Ð¾Ñ‡Ñƒ","Ð¼Ð¾Ð¶ÐµÑ‚ Ð±Ñ‹Ñ‚ÑŒ","Ð½Ðµ ÑÐµÐ¹Ñ‡Ð°Ñ","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]},{id:"moon_evening",moods:["moon"],text:"ÐºÐ°Ðº Ñ‚Ñ‹ Ð±ÐµÑ€ÐµÐ¶Ð½Ð¾ Ð·Ð°Ð²ÐµÑ€ÑˆÐ°ÐµÑˆÑŒ Ð´ÐµÐ½ÑŒ?",chips:["Ñ‡Ð°Ð¹","Ñ‡Ñ‚ÐµÐ½Ð¸Ðµ","Ð¼ÑƒÐ·Ñ‹ÐºÐ°","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]},{id:"moon_sleep",moods:["moon"],text:"Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ð¼Ð¾Ð¶ÐµÑ‚ ÑƒÑÐ½ÑƒÑ‚ÑŒ ÑÐ¿Ð¾ÐºÐ¾Ð¹Ð½ÐµÐµ?",chips:["Ð´Ñ‹Ñ…Ð°Ð½Ð¸Ðµ","Ð¼ÐµÐ´Ð¸Ñ‚Ð°Ñ†Ð¸Ñ","Ð´Ð½ÐµÐ²Ð½Ð¸Ðº","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]},{id:"stars_thought",moods:["stars"],text:"ÐºÐ°ÐºÐ°Ñ Ð¼Ñ‹ÑÐ»ÑŒ ÑÐµÐ³Ð¾Ð´Ð½Ñ Ð±Ñ‹Ð»Ð° Ð´Ð¾Ð±Ñ€Ð¾Ð¹?",chips:["Ð¾ ÑÐµÐ±Ðµ","Ð¾ Ð´Ñ€ÑƒÐ³Ð¸Ñ…","Ð¾ Ð±ÑƒÐ´ÑƒÑ‰ÐµÐ¼","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]},{id:"stars_beauty",moods:["stars"],text:"Ñ‡Ñ‚Ð¾ Ñ‚Ñ‹ Ð·Ð°Ð¼ÐµÑ‚Ð¸Ð»(Ð°) ÐºÑ€Ð°ÑÐ¸Ð²Ð¾Ð³Ð¾ Ð²Ð¾ÐºÑ€ÑƒÐ³?",chips:["Ð¿Ñ€Ð¸Ñ€Ð¾Ð´Ð°","Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°","Ð»ÑŽÐ´Ð¸","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]},{id:"leaves_put_down",moods:["leaves"],text:"Ñ‡Ñ‚Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ð¾Ð»Ð¾Ð¶Ð¸Ñ‚ÑŒ Ð¸ Ð½Ðµ Ð½ÐµÑÑ‚Ð¸ Ð´Ð°Ð»ÑŒÑˆÐµ?",chips:["Ð²Ð¸Ð½Ñƒ","Ð·Ð»Ð¾ÑÑ‚ÑŒ","ÑÑ‚Ñ€Ð°Ñ…Ð¸","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]},{id:"leaves_small_thing",moods:["leaves"],text:"ÐºÐ°ÐºÑƒÑŽ Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÑƒÑŽ Ð²ÐµÑ‰ÑŒ Ñ‚Ñ‹ ÑÐ´ÐµÐ»Ð°Ð»(Ð°) Ð´Ð»Ñ ÑÐµÐ±Ñ?",chips:["Ð¿Ð¾ÐµÐ»","Ð¾Ñ‚Ð´Ð¾Ñ…Ð½ÑƒÐ»","Ð¿Ð¾Ð·Ð²Ð¾Ð½Ð¸Ð» Ð´Ñ€ÑƒÐ³Ñƒ","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]},{id:"universal_reflection",moods:["sun","clouds","rain","wind","storm","rainbow","moon","stars","leaves"],text:"Ñ‡Ñ‚Ð¾ Ñ…Ð¾Ñ‡ÐµÑ‚ÑÑ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ðº ÑÑ‚Ð¾Ð¼Ñƒ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚Ñƒ?",chips:["Ð·Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð¼Ñ‹ÑÐ»ÑŒ","Ð¿Ð¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ","Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿Ð¾Ð±Ñ‹Ñ‚ÑŒ","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]},{id:"universal_ritual",moods:["sun","clouds","rain","wind","storm","rainbow","moon","stars","leaves"],text:"Ð²Ñ‹Ð±ÐµÑ€ÐµÐ¼ Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¾Ðµ Ð´ÐµÐ»Ð¾ Ð½Ð° Ð¼Ð¸Ð½ÑƒÑ‚ÐºÑƒ?",chips:["Ð¿Ð¾Ð´Ñ‹ÑˆÐ°Ñ‚ÑŒ","Ð²Ñ‹Ð¿Ð¸Ñ‚ÑŒ Ð²Ð¾Ð´Ñ‹","Ð¿Ð¾Ñ‚ÑÐ½ÑƒÑ‚ÑŒÑÑ","Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ ÑÐ²Ð¾Ñ‘"]}],X=[{id:"breath_30",duration:30,label:"Ð¿Ð¾Ð´Ñ‹ÑˆÐ¸Ð¼ 30 ÑÐµÐº",moodBias:["rain","storm","wind","moon"]},{id:"water",duration:20,label:"Ð²Ñ‹Ð¿ÑŒÐµÐ¼ ÑÑ‚Ð°ÐºÐ°Ð½ Ð²Ð¾Ð´Ñ‹",moodBias:["sun","clouds","rain"]},{id:"stretch",duration:30,label:"Ð¿Ð¾Ñ‚ÑÐ½ÑƒÐ»Ð¸ÑÑŒ 30 ÑÐµÐº",moodBias:["wind","leaves","stars"]},{id:"look_around",duration:20,label:"Ð½Ð°Ð¹Ð´Ñ‘Ð¼ 1 Ð·ÐµÐ»Ñ‘Ð½ÑƒÑŽ Ð²ÐµÑ‰ÑŒ",moodBias:["clouds","rainbow","leaves"]},{id:"self_note",duration:15,label:"ÑÐºÐ°Ð¶ÐµÐ¼ ÑÐµÐ±Ðµ Ð´Ð¾Ð±Ñ€ÑƒÑŽ Ñ„Ñ€Ð°Ð·Ñƒ",moodBias:["storm","rain","moon"]}],Y={sun:["ÐºÐ°Ðº Ð¶Ðµ Ñ‚ÐµÐ¿Ð»Ð¾ Ð¾Ñ‚ Ñ‚Ð²Ð¾ÐµÐ¹ Ñ€Ð°Ð´Ð¾ÑÑ‚Ð¸! â˜€ï¸","Ñ‚Ð²Ð¾Ñ‘ ÑÐ¾Ð»Ð½Ñ‹ÑˆÐºÐ¾ ÑÐ¾Ð³Ñ€ÐµÐ²Ð°ÐµÑ‚ Ð¸ Ð¼ÐµÐ½Ñ ðŸŒž","Ñ‚Ð°ÐºÐ°Ñ ÑÐ¾Ð»Ð½ÐµÑ‡Ð½Ð°Ñ ÑÐ½ÐµÑ€Ð³Ð¸Ñ! Ð·Ð°Ñ€ÑÐ¶Ð°ÑŽÑÑŒ Ð¾Ñ‚ Ñ‚ÐµÐ±Ñ âœ¨"],clouds:["Ð¾Ð±Ð»Ð°ÐºÐ° Ñ‚Ð¾Ð¶Ðµ Ñ‡Ð°ÑÑ‚ÑŒ Ð½ÐµÐ±Ð°, Ð¸ ÑÑ‚Ð¾ ÐºÑ€Ð°ÑÐ¸Ð²Ð¾ â˜ï¸","Ð¸Ð½Ð¾Ð³Ð´Ð° Ð½ÑƒÐ¶Ð½Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿Ð¾Ð±Ñ‹Ñ‚ÑŒ Ð² Ñ‚Ð¸ÑˆÐ¸Ð½Ðµ ðŸŒ«ï¸","Ñ Ñ€ÑÐ´Ð¾Ð¼, Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð³Ð´Ð° Ð½ÐµÐ±Ð¾ Ð¿Ð°ÑÐ¼ÑƒÑ€Ð½Ð¾Ðµ ðŸ¤"],rain:["Ð´Ð¾Ð¶Ð´ÑŒ Ð¾Ñ‡Ð¸Ñ‰Ð°ÐµÑ‚ Ð¸ Ð´Ð°Ñ‘Ñ‚ Ð½Ð¾Ð²ÑƒÑŽ Ð¶Ð¸Ð·Ð½ÑŒ ðŸŒ§ï¸","Ð¿Ð¾ÑÐ»Ðµ Ð´Ð¾Ð¶Ð´Ñ Ð²ÑÐµÐ³Ð´Ð° Ð¿Ð¾ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ñ€Ð°Ð´ÑƒÐ³Ð° ðŸŒˆ","Ñ Ð·Ð´ÐµÑÑŒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð²Ñ‹ÑÐ»ÑƒÑˆÐ°Ñ‚ÑŒ ÐºÐ°Ð¶Ð´ÑƒÑŽ ÐºÐ°Ð¿Ð»ÑŽ ðŸ’§"],wind:["Ð²ÐµÑ‚ÐµÑ€ Ð¿Ñ€Ð¸Ð½Ð¾ÑÐ¸Ñ‚ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ñ‹ Ð¸ ÑÐ²ÐµÐ¶ÐµÑÑ‚ÑŒ ðŸŒ¬ï¸","Ð¸Ð½Ð¾Ð³Ð´Ð° Ð½ÑƒÐ¶Ð½Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¾Ñ‚Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ð¸ Ð¿Ð»Ñ‹Ñ‚ÑŒ Ð¿Ð¾ Ð²ÐµÑ‚Ñ€Ñƒ ðŸƒ","Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, ÐºÐ°Ðº Ñ‚Ñ‹ Ð¸Ñ‰ÐµÑˆÑŒ ÑÐ²Ð¾Ð¹ Ð¿ÑƒÑ‚ÑŒ ðŸ’¨"],storm:["Ð³Ñ€Ð¾Ð·Ð° Ð¿Ñ€Ð¾Ð¹Ð´Ñ‘Ñ‚, Ð° Ñ Ð¾ÑÑ‚Ð°Ð½ÑƒÑÑŒ Ñ€ÑÐ´Ð¾Ð¼ â›ˆï¸","Ñ‚Ñ‹ ÑÐ¸Ð»ÑŒÐ½ÐµÐµ Ð»ÑŽÐ±Ð¾Ð¹ Ð±ÑƒÑ€Ð¸, Ð¿Ð¾Ð¼Ð½Ð¸ ÑÑ‚Ð¾ âš¡","Ð²Ð¼ÐµÑÑ‚Ðµ Ð¼Ñ‹ Ð¿ÐµÑ€ÐµÐ¶Ð´Ñ‘Ð¼ Ð»ÑŽÐ±ÑƒÑŽ Ð½ÐµÐ¿Ð¾Ð³Ð¾Ð´Ñƒ ðŸŒ©ï¸"],rainbow:["ÐºÐ°ÐºÐ°Ñ ÐºÑ€Ð°ÑÐ¸Ð²Ð°Ñ Ñ€Ð°Ð´ÑƒÐ³Ð° Ð² Ñ‚Ð²Ð¾ÐµÐ¹ Ð´ÑƒÑˆÐµ! ðŸŒˆ","Ð¿Ð¾ÑÐ»Ðµ Ð´Ð¾Ð¶Ð´Ñ Ð²ÑÐµÐ³Ð´Ð° Ð¿Ñ€Ð¸Ñ…Ð¾Ð´Ð¸Ñ‚ ÑÐ¾Ð»Ð½Ñ†Ðµ â˜€ï¸","Ñ‚Ð²Ð¾Ñ Ð½Ð°Ð´ÐµÐ¶Ð´Ð° Ð²Ð´Ð¾Ñ…Ð½Ð¾Ð²Ð»ÑÐµÑ‚ Ð¼ÐµÐ½Ñ âœ¨"],moon:["Ð»ÑƒÐ½Ð° ÑÐ²ÐµÑ‚Ð¸Ñ‚ Ð´Ð°Ð¶Ðµ Ð² Ñ‚ÐµÐ¼Ð½Ð¾Ñ‚Ðµ ðŸŒ™","ÐºÐ°Ðº ÑÐ¿Ð¾ÐºÐ¾Ð¹Ð½Ð¾ Ð¸ ÑƒÐ¼Ð¸Ñ€Ð¾Ñ‚Ð²Ð¾Ñ€Ñ‘Ð½Ð½Ð¾ ðŸŒ•","Ð²ÐµÑ‡ÐµÑ€Ð½ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ñ€Ð°Ð·Ð¼Ñ‹ÑˆÐ»ÐµÐ½Ð¸Ð¹ ðŸŒš"],stars:["Ð·Ð²Ñ‘Ð·Ð´Ñ‹ Ð²ÑÐµÐ³Ð´Ð° ÑÐ²ÐµÑ‚ÑÑ‚, Ð´Ð°Ð¶Ðµ ÐºÐ¾Ð³Ð´Ð° Ð¸Ñ… Ð½Ðµ Ð²Ð¸Ð´Ð½Ð¾ â­","Ñ‚Ñ‹ Ð¾ÑÐ¾Ð±ÐµÐ½Ð½Ð°Ñ, ÐºÐ°Ðº ÑƒÐ½Ð¸ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ð·Ð²ÐµÐ·Ð´Ð° âœ¨","Ð² Ñ‚Ð²Ð¾Ð¸Ñ… Ð³Ð»Ð°Ð·Ð°Ñ… Ñ Ð²Ð¸Ð¶Ñƒ Ñ†ÐµÐ»ÑƒÑŽ Ð³Ð°Ð»Ð°ÐºÑ‚Ð¸ÐºÑƒ ðŸŒŒ"],leaves:["Ð»Ð¸ÑÑ‚ÑŒÑ Ð¼ÐµÐ½ÑÑŽÑ‚ÑÑ, Ð¸ ÑÑ‚Ð¾ ÐµÑÑ‚ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾ ðŸƒ","ÐºÐ°Ð¶Ð´Ñ‹Ð¹ Ð»Ð¸ÑÑ‚ â€” ÑÑ‚Ð¾ Ð½Ð¾Ð²Ñ‹Ð¹ ÑÑ‚Ð°Ð¿ Ñ€Ð¾ÑÑ‚Ð° ðŸŒ¿","Ñ‡ÑƒÐ²ÑÑ‚Ð²ÑƒÑŽ, ÐºÐ°Ðº Ñ‚Ñ‹ Ñ€Ð°ÑÑ‚Ñ‘ÑˆÑŒ Ð¸ Ñ€Ð°Ð·Ð²Ð¸Ð²Ð°ÐµÑˆÑŒÑÑ ðŸŒ±"]},K="gropy-journal-state",Z={entries:[],lastPromptIds:[],lastRitualIds:[]},Q=()=>{const[e,t]=x.useState(Z),[o,i]=x.useState(!0);x.useEffect(()=>{try{const e=localStorage.getItem(K);if(e){const o=JSON.parse(e);t(o)}}catch(e){}finally{i(!1)}},[]);const n=x.useCallback(e=>{try{localStorage.setItem(K,JSON.stringify(e)),t(e)}catch(o){}},[]),r=x.useCallback((o,i,n,r,a,s)=>{const d={id:`entry_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,ts:Date.now(),mood:o,intensity:i,note:n,chips:r,ritualId:a,tags:s,petReactionSeed:Math.random()};return t(e=>c(l({},e),{entries:[d,...e.entries]})),requestAnimationFrame(()=>{try{const t=c(l({},e),{entries:[d,...e.entries]});localStorage.setItem(K,JSON.stringify(t))}catch(t){}}),d},[e]),a=x.useCallback(t=>{const o=q.filter(o=>o.moods.includes(t)&&!e.lastPromptIds.includes(o.id)),i=q.filter(e=>e.moods.includes(t)),r=o.length>0?o:i;if(0===r.length)return null;const a=r[Math.floor(Math.random()*r.length)],s=[a.id,...e.lastPromptIds].slice(0,5),d=c(l({},e),{lastPromptIds:s});return n(d),a},[e,n]),s=x.useCallback(t=>{const o=X.filter(t=>!e.lastRitualIds.includes(t.id)),i=o.length>0?o:X;if(0===i.length)return null;const r=i.sort((e,o)=>{var i,n;const r=(null==(i=e.moodBias)?void 0:i.includes(t))?1:0;return((null==(n=o.moodBias)?void 0:n.includes(t))?1:0)-r})[0],a=[r.id,...e.lastRitualIds].slice(0,3),s=c(l({},e),{lastRitualIds:a});return n(s),r},[e,n]),d=x.useCallback((e,t)=>{const o=Y[e];if(!o||0===o.length)return"ÑÐ¿Ð°ÑÐ¸Ð±Ð¾, Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ð´ÐµÐ»Ð¸Ð»ÑÑ(Ð°ÑÑŒ) ÑÐ¾ Ð¼Ð½Ð¾Ð¹ ðŸ’š";return o[Math.floor((t||Math.random())*o.length)]},[]),p=x.useCallback(()=>{const t=new Date;t.setHours(0,0,0,0);const o=t.getTime();return e.entries.filter(e=>e.ts>=o)},[e.entries]),u=x.useCallback(()=>{const t=Date.now()-6048e5;return e.entries.filter(e=>e.ts>=t)},[e.entries]),h=x.useCallback(()=>{const e=u(),t={sun:0,clouds:0,rain:0,wind:0,storm:0,rainbow:0,moon:0,stars:0,leaves:0};return e.forEach(e=>{t[e.mood]++}),t},[u]),m=x.useCallback(()=>{const e=u().slice(0,3);if(e.length<3)return!1;const t=["rain","storm"];return e.every(e=>t.includes(e.mood))},[u]),g=x.useCallback(()=>{const t={entries:e.entries,exportedAt:(new Date).toISOString(),version:"1.0"},o=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),i=URL.createObjectURL(o),n=document.createElement("a");n.href=i,n.download=`gropy-journal-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(i)},[e.entries]),f=x.useCallback(()=>{n(Z)},[n]);return{entries:e.entries,isLoading:o,addEntry:r,getPrompt:a,getRitual:s,getPetReaction:d,getTodayEntries:p,getRecentEntries:u,getMoodStats:h,isInDifficultMood:m,exportData:g,clearData:f}},ee="gropy-ui-prefs",te={leftHanded:!1,reducedMotion:!1},oe=()=>{const[e,t]=x.useState(te),[o,i]=x.useState(!1);x.useEffect(()=>{try{const e=localStorage.getItem(ee);if(e){const o=JSON.parse(e);t(l(l({},te),o))}}catch(e){}finally{i(!0)}},[]),x.useEffect(()=>{const e=window.matchMedia("(prefers-reduced-motion: reduce)"),o=e=>{t(t=>c(l({},t),{reducedMotion:e.matches}))};return t(t=>c(l({},t),{reducedMotion:e.matches})),e.addEventListener("change",o),()=>e.removeEventListener("change",o)},[]),x.useEffect(()=>{if(!o)return;const t=document.documentElement;e.leftHanded?t.setAttribute("data-left-handed","true"):t.removeAttribute("data-left-handed"),e.reducedMotion?t.setAttribute("data-reduced-motion","true"):t.removeAttribute("data-reduced-motion")},[e,o]);const n=x.useCallback(o=>{const i=l(l({},e),o);t(i);try{localStorage.setItem(ee,JSON.stringify(i))}catch(n){}},[e]),r=x.useCallback(e=>{n({leftHanded:e})},[n]),a=x.useCallback(e=>{n({reducedMotion:e})},[n]);return{prefs:e,isLoaded:o,updatePrefs:n,setLeftHanded:r,setReducedMotion:a}},ie=w.div`
  position: fixed;
  bottom: max(24px, env(safe-area-inset-bottom));
  left: 50%;
  transform: translateX(-50%);
  z-index: 1000;
  pointer-events: none;
  display: flex;
  flex-direction: column;
  gap: 8px;
  max-width: calc(100vw - 32px);
`,ne=w(h.div)`
  background: ${({theme:e})=>e.color.surface};
  border: 1px solid ${({theme:e})=>e.color.border};
  border-radius: ${k.radius.card};
  padding: 12px 16px;
  box-shadow: 0 4px 12px ${k.color.shadow};
  pointer-events: auto;
  display: flex;
  align-items: center;
  gap: 12px;
  min-width: 280px;
  max-width: 400px;
`,re=w.span`
  flex: 1;
  font-size: 14px;
  font-weight: 500;
  color: ${({theme:e})=>e.color.text};
  line-height: 1.4;
`,ae=w.button`
  background: ${({theme:e})=>e.color.accent};
  color: white;
  border: none;
  border-radius: ${k.radius.button};
  padding: 6px 12px;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: opacity 0.2s ease;

  &:hover {
    opacity: 0.9;
  }

  &:focus-visible {
    outline: 2px solid ${({theme:e})=>e.color.accent};
    outline-offset: 2px;
  }
`,se=({toasts:e,onHide:t})=>(x.useEffect(()=>{const o=o=>{"Escape"===o.key&&e.length>0&&t(e[e.length-1].id)};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[e,t]),"undefined"==typeof window?null:g.createPortal(u.jsx(ie,{children:u.jsx(m,{children:e.map(e=>u.jsxs(ne,{initial:{opacity:0,y:50,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:50,scale:.95},transition:{duration:.2,ease:"easeOut"},role:"alert","aria-live":"polite",children:[u.jsx(re,{children:e.message}),e.options.action&&u.jsx(ae,{onClick:e.options.action.onAction,children:e.options.action.label})]},e.id))})}),document.body)),le=w(h.div)`
  position: fixed;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  z-index: 100;
  pointer-events: none;
`,ce=w(h.div)`
  width: 24px;
  height: 40px;
  background: ${({theme:e})=>e.color.accent};
  border-radius: 12px 0 0 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: -2px 0 8px ${k.color.shadow};
`,de=w(h.div)`
  width: 8px;
  height: 8px;
  border-right: 2px solid white;
  border-bottom: 2px solid white;
  transform: rotate(-45deg);
  margin-left: 2px;
`,pe=({onSwipeStart:e})=>{const[t,o]=x.useState(!1),[i,n]=x.useState(0),r=x.useRef(),a=x.useRef();return x.useEffect(()=>{if(P("gropy-learned-swipe",!1))return;const e=(new Date).toISOString().split("T")[0];if(P("gropy-peek-last-shown","")===e)return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const t=()=>{if(i>=2)return o(!1),void R("gropy-peek-last-shown",e);a.current=setTimeout(()=>{n(e=>e+1),i<1?t():(o(!1),R("gropy-peek-last-shown",e))},1200)};return r.current=setTimeout(()=>{o(!0),n(0),t()},1400),()=>{r.current&&clearTimeout(r.current),a.current&&clearTimeout(a.current)}},[i]),x.useEffect(()=>{const t=t=>{t.touches[0].clientX>window.innerWidth-50&&(o(!1),R("gropy-learned-swipe",!0),null==e||e())};return document.addEventListener("touchstart",t),()=>document.removeEventListener("touchstart",t)},[e]),u.jsx(m,{children:t&&u.jsx(le,{initial:{x:0},animate:{x:-12},exit:{x:0},transition:{duration:.6,ease:"easeInOut",repeat:i<2?1:0,repeatType:"reverse"},children:u.jsx(ce,{children:u.jsx(de,{animate:{x:[-2,0,-2]},transition:{duration:.8,repeat:1/0,ease:"easeInOut"}})})})})};const ue=new class{constructor(){d(this,"config",{volume:.3,enabled:!0}),d(this,"audioContext",null),d(this,"sounds",new Map),this.initializeAudioContext(),this.loadSounds()}initializeAudioContext(){return p(this,null,function*(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(e){}})}loadSounds(){return p(this,null,function*(){this.audioContext&&this.generateCalmSounds()})}generateCalmSounds(){this.audioContext&&(this.sounds.set("ritualComplete",this.generateBellSound(800,.3)),this.sounds.set("buttonClick",this.generatePopSound(400,.2)),this.sounds.set("diarySave",this.generateChimeSound(600,.25)),this.sounds.set("transition",this.generateWhooshSound(.4)),this.sounds.set("petInteraction",this.generatePetSound(500,.3)))}generateBellSound(e,t){if(!this.audioContext)throw new Error("Audio context not available");const o=this.audioContext.sampleRate,i=this.audioContext.createBuffer(1,o*t,o),n=i.getChannelData(0);for(let r=0;r<n.length;r++){const t=r/o,i=Math.exp(3*-t),a=Math.sin(2*Math.PI*e*t)*i;n[r]=.1*a}return i}generatePopSound(e,t){if(!this.audioContext)throw new Error("Audio context not available");const o=this.audioContext.sampleRate,i=this.audioContext.createBuffer(1,o*t,o),n=i.getChannelData(0);for(let r=0;r<n.length;r++){const t=r/o,i=Math.exp(8*-t),a=Math.sin(2*Math.PI*e*t)*i;n[r]=.05*a}return i}generateChimeSound(e,t){if(!this.audioContext)throw new Error("Audio context not available");const o=this.audioContext.sampleRate,i=this.audioContext.createBuffer(1,o*t,o),n=i.getChannelData(0);for(let r=0;r<n.length;r++){const t=r/o,i=Math.exp(2*-t),a=Math.sin(2*Math.PI*e*t)*i;n[r]=.08*a}return i}generateWhooshSound(e){if(!this.audioContext)throw new Error("Audio context not available");const t=this.audioContext.sampleRate,o=this.audioContext.createBuffer(1,t*e,t),i=o.getChannelData(0);for(let n=0;n<i.length;n++){const e=n/t,o=Math.exp(4*-e),r=(2*Math.random()-1)*o;i[n]=.03*r}return o}generatePetSound(e,t){if(!this.audioContext)throw new Error("Audio context not available");const o=this.audioContext.sampleRate,i=this.audioContext.createBuffer(1,o*t,o),n=i.getChannelData(0);for(let r=0;r<n.length;r++){const t=r/o,i=Math.exp(2*-t),a=Math.sin(2*Math.PI*e*t)*i;n[r]=.06*a}return i}playSound(e){return p(this,null,function*(){if(!this.config.enabled||!this.audioContext)return;const t=this.sounds.get(e);if(t)try{const e=this.audioContext.createBufferSource(),o=this.audioContext.createGain();e.buffer=t,o.gain.value=this.config.volume,e.connect(o),o.connect(this.audioContext.destination),e.start()}catch(o){}})}setVolume(e){this.config.volume=Math.max(0,Math.min(1,e))}setEnabled(e){this.config.enabled=e}isEnabled(){return this.config.enabled}getVolume(){return this.config.volume}},he=()=>ue.playSound("ritualComplete"),me=()=>ue.playSound("buttonClick"),ge=()=>ue.playSound("diarySave");const xe=new class{constructor(){d(this,"audioContext",null),d(this,"ambientSource",null),d(this,"isPlaying",!1),d(this,"volume",.1)}initialize(){return p(this,null,function*(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(e){}})}generateAmbientSound(){if(!this.audioContext)return null;const e=this.audioContext.sampleRate,t=this.audioContext.createBuffer(1,10*e,e),o=t.getChannelData(0);for(let i=0;i<o.length;i++){const t=i/e,n=.01*Math.sin(2*Math.PI*60*t);o[i]=n}return t}startAmbient(){return p(this,null,function*(){if(this.isPlaying||!this.audioContext)return;const e=this.generateAmbientSound();if(!e)return;this.ambientSource=this.audioContext.createBufferSource();const t=this.audioContext.createGain();this.ambientSource.buffer=e,this.ambientSource.loop=!0,t.gain.value=this.volume,this.ambientSource.connect(t),t.connect(this.audioContext.destination),this.ambientSource.start(),this.isPlaying=!0})}stopAmbient(){this.ambientSource&&(this.ambientSource.stop(),this.ambientSource=null),this.isPlaying=!1}setVolume(e){this.volume=Math.max(0,Math.min(.2,e))}},fe=w.div`
  position: fixed;
  bottom: 140px;
  right: 20px;
  z-index: 40;
  pointer-events: none;

  /* Left-handed support */
  :root[data-left-handed="true"] & {
    right: auto;
    left: 20px;
  }

  /* Ensure pet doesn't overlap with navigation */
  @media (max-width: 480px) {
    bottom: 120px;
  }

  /* For very small screens, move pet higher */
  @media (max-width: 360px) {
    bottom: 140px;
    right: 10px;
  }

  /* Left-handed support for small screens */
  :root[data-left-handed="true"] & {
    @media (max-width: 360px) {
      right: auto;
      left: 10px;
    }
  }
`,be=w(h.button).withConfig({shouldForwardProp:e=>!e.startsWith("$")})`
  width: 70px;
  height: 70px;
  border-radius: 50%;
  background: linear-gradient(135deg, ${({theme:e})=>e.color.pet.primary}, ${({theme:e})=>e.color.pet.secondary});
  border: 3px solid ${({theme:e})=>e.color.pet.accent};
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
  box-shadow: 0 6px 20px ${k.color.shadow};
  pointer-events: auto;
  transition: all ${k.motion.base} ${k.motion.easing};
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, ${({theme:e})=>e.color.pet.accent}20 0%, transparent 70%);
    opacity: 0;
    transition: opacity ${k.motion.base} ${k.motion.easing};
  }

  &:hover {
    transform: scale(1.08);
    box-shadow: 0 8px 25px ${k.color.shadow};
    
    &::before {
      opacity: 1;
    }
  }

  &:active {
    transform: scale(0.95);
  }

  &:focus-visible {
    outline: 2px solid ${({theme:e})=>e.color.pet.accent};
    outline-offset: 2px;
  }
`,ye=w(h.div).withConfig({shouldForwardProp:e=>!e.startsWith("$")})`
  position: absolute;
  bottom: 85px;
  right: -10px;
  background: ${({theme:e})=>e.color.surface};
  border: 2px solid ${({theme:e})=>e.color.pet.accent};
  border-radius: ${k.radius.card};
  padding: 12px 16px;
  max-width: 200px;
  min-width: 120px;
  box-shadow: 0 8px 25px ${k.color.shadow};
  pointer-events: none;
  backdrop-filter: blur(10px);

  /* Ensure bubble doesn't go off screen */
  @media (max-width: 480px) {
    max-width: 160px;
    padding: 10px 14px;
    right: -15px;
    bottom: 80px;
  }

  /* Left-handed adaptation */
  :root[data-left-handed="true"] & {
    right: auto;
    left: -10px;

    &::after {
      right: auto;
      left: 25px;
    }

    &::before {
      right: auto;
      left: 25px;
    }
  }

  &::after {
    content: '';
    position: absolute;
    bottom: -10px;
    right: 25px;
    width: 0;
    height: 0;
    border-left: 10px solid transparent;
    border-right: 10px solid transparent;
    border-top: 10px solid ${({theme:e})=>e.color.surface};
  }

  &::before {
    content: '';
    position: absolute;
    bottom: -12px;
    right: 25px;
    width: 0;
    height: 0;
    border-left: 10px solid transparent;
    border-right: 10px solid transparent;
    border-top: 10px solid ${({theme:e})=>e.color.pet.accent};
  }
`,we=w.div`
  font-size: 14px;
  font-weight: 500;
  color: ${({theme:e})=>e.color.text};
  line-height: 1.4;
  text-align: center;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;

  /* Mobile adaptation */
  @media (max-width: 480px) {
    font-size: 12px;
    line-height: 1.3;
  }
`,ve={greeting:["Ð¿Ñ€Ð¸Ð²ÐµÑ‚, Ð´Ñ€ÑƒÐ³! ðŸŒ¿","ÐºÐ°Ðº Ð´ÐµÐ»Ð°? Ñ Ð·Ð´ÐµÑÑŒ","Ñ‚Ñ‹ Ð½Ðµ Ð¾Ð´Ð¸Ð½, Ñ Ñ€ÑÐ´Ð¾Ð¼","Ð²ÑÑ‘ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾, Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð´Ñ‹ÑˆÐ¸"],encouragement:["Ñ‚Ñ‹ Ð´ÐµÐ»Ð°ÐµÑˆÑŒ Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾","Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¸Ðµ ÑˆÐ°Ð³Ð¸ â€” ÑÑ‚Ð¾ Ñ‚Ð¾Ð¶Ðµ Ð¿Ð¾Ð±ÐµÐ´Ð°","Ð¼Ð½Ðµ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ Ñ€ÑÐ´Ð¾Ð¼ Ñ Ñ‚Ð¾Ð±Ð¾Ð¹","Ñ‚Ñ‹ Ð·Ð°Ð±Ð¾Ñ‚Ð¸ÑˆÑŒÑÑ Ð¾ ÑÐµÐ±Ðµ â€” ÑÑ‚Ð¾ Ð²Ð°Ð¶Ð½Ð¾"],celebration:["Ð¼Ð½Ðµ Ð¿Ñ€Ð¸ÑÑ‚Ð½Ð¾ Ð·Ð° Ñ‚ÐµÐ±Ñ! ðŸ’š","Ñ‚Ñ‹ Ð¼Ð¾Ð»Ð¾Ð´ÐµÑ†!","ÐºÐ°Ðº Ð¶Ðµ Ñ Ñ€Ð°Ð´! âœ¨","ÑÑ‚Ð¾ Ð±Ñ‹Ð»Ð¾ Ð¿Ñ€ÐµÐºÑ€Ð°ÑÐ½Ð¾"],comfort:["Ð²ÑÑ‘ Ð² Ð¿Ð¾Ñ€ÑÐ´ÐºÐµ, Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð±ÑƒÐ´ÑŒ Ð·Ð´ÐµÑÑŒ","Ð½Ðµ Ð½ÑƒÐ¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð¸Ð´ÐµÐ°Ð»ÑŒÐ½Ñ‹Ð¼","Ñ Ñ€ÑÐ´Ð¾Ð¼, ÐºÐ¾Ð³Ð´Ð° Ñ‚ÐµÐ±Ðµ Ð½ÑƒÐ¶Ð½Ð¾","ÑÐµÐ³Ð¾Ð´Ð½Ñ Ð½Ðµ Ð½ÑƒÐ¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¼"]},Se=f.memo(({showVictoryBubble:e=!1,onVictoryBubbleShown:t,petMood:o="happy"})=>{const[i,n]=x.useState(!1),[r,a]=x.useState(!1),[s,l]=x.useState(""),[c,d]=x.useState("ðŸ¾"),p=f.useMemo(()=>({happy:"ðŸ¾",sleepy:"ðŸ˜´",excited:"âœ¨",calm:"ðŸŒ¿"}),[]);x.useEffect(()=>{d(p[o])},[o,p]),x.useEffect(()=>{if(e){const e=ve.celebration[Math.floor(Math.random()*ve.celebration.length)];l(e),a(!0),null==t||t();const o=setTimeout(()=>{a(!1)},4e3);return()=>clearTimeout(o)}},[e,t]);return u.jsxs(fe,{children:[u.jsx(be,{onClick:()=>{(()=>{var e,t,o,i;try{null==(i=null==(o=null==(t=null==(e=window.Telegram)?void 0:e.WebApp)?void 0:t.HapticFeedback)?void 0:o.impactOccurred)||i.call(o,"light")}catch(n){}})(),ue.playSound("petInteraction");const e=[...ve.greeting,...ve.encouragement,...ve.comfort],t=e[Math.floor(Math.random()*e.length)];l(t),a(!0),setTimeout(()=>{a(!1)},3e3)},onMouseEnter:()=>{n(!0)},onMouseLeave:()=>{n(!1)},animate:{y:i?[-3,3,-3]:[-2,2,-2],rotate:i?[-2,2,-2]:0},whileHover:{scale:1.08,rotate:[0,-5,5,0]},whileTap:{scale:.95,rotate:[0,-10,10,0]},transition:{duration:.1,ease:"easeOut",rotate:{duration:4,repeat:1/0,ease:"easeInOut"}},"aria-label":"ÐŸÐ¾Ð³Ð»Ð°Ð´Ð¸Ñ‚ÑŒ Ð¿Ð¸Ñ‚Ð¾Ð¼Ñ†Ð°",children:u.jsx(h.span,{animate:{scale:e?[1,1.2,1]:1},transition:{duration:.6,ease:"easeInOut"},children:c})}),u.jsx(m,{children:r&&u.jsx(ye,{initial:{opacity:0,scale:.7,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.7,y:20},transition:{duration:.4,ease:"easeOut",type:"spring",stiffness:200,damping:20},role:"alert","aria-live":"polite",children:u.jsx(we,{children:s})})})]})}),$e=w.div`
  padding: 16px;
  background: ${({theme:e})=>e.color.surface};
  border-radius: ${k.radius.card};
  margin: 16px;
  border: 1px solid ${({theme:e})=>e.color.border};
`,Ce=w.h2`
  font-size: 18px;
  font-weight: 600;
  color: ${({theme:e})=>e.color.text};
  margin: 0 0 16px 0;
  line-height: 1.4;
`,ke=w.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 12px;
`,je=w(h.div)`
  background: ${({theme:e})=>e.color.bg};
  border: 1px solid ${({theme:e})=>e.color.border};
  border-radius: ${k.radius.card};
  padding: 16px;
  text-align: center;
  position: relative;
  overflow: hidden;
`,Ee=w.div`
  font-size: 24px;
  font-weight: 700;
  color: ${({theme:e})=>e.color.text};
  margin-bottom: 4px;
  line-height: 1;
`,De=w.div`
  font-size: 12px;
  font-weight: 600;
  color: ${({theme:e})=>e.color.textMuted};
  text-transform: uppercase;
  letter-spacing: 0.5px;
  line-height: 1.4;
`,Fe=w.div`
  position: absolute;
  top: 8px;
  right: 8px;
  font-size: 16px;
  opacity: 0.3;
`,Ae=w.div`
  width: 100%;
  height: 4px;
  background: ${({theme:e})=>e.color.border};
  border-radius: 2px;
  overflow: hidden;
  margin-top: 8px;
`,Me=w(h.div)`
  height: 100%;
  background: ${({theme:e})=>e.color.accent};
  border-radius: 2px;
  width: ${({$progress:e})=>Math.min(100,Math.max(0,e))}%;
`,ze=w.div`
  font-size: 10px;
  font-weight: 500;
  color: ${({theme:e})=>e.color.textMuted};
  margin-top: 4px;
  text-align: center;
`,Ie=({level:e,experience:t,expForNextLevel:o,points:i,streak:n,totalCompleted:r,totalPoints:a})=>{const s=t/o*100,l=[{icon:"â­",value:e,label:"Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ"},{icon:"âš¡",value:i,label:"ÐžÑ‡ÐºÐ¸"},{icon:"ðŸ”¥",value:n,label:"Ð¡Ñ‚Ñ€Ð¸Ðº"},{icon:"âœ…",value:r,label:"Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾"}];return u.jsxs($e,{children:[u.jsx(Ce,{children:"Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°"}),u.jsx(ke,{children:l.map((e,t)=>u.jsxs(je,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t,duration:.3},children:[u.jsx(Fe,{children:e.icon}),u.jsx(Ee,{children:e.value}),u.jsx(De,{children:e.label})]},e.label))}),u.jsxs(je,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},style:{marginTop:"12px"},children:[u.jsx(Fe,{children:"ðŸ“ˆ"}),u.jsx(Ee,{children:t}),u.jsx(De,{children:"ÐžÐ¿Ñ‹Ñ‚"}),u.jsx(Ae,{children:u.jsx(Me,{$progress:s,initial:{width:0},animate:{width:`${s}%`},transition:{delay:.6,duration:.5,ease:"easeOut"}})}),u.jsxs(ze,{children:[t," / ",o," Ð´Ð¾ ",e+1," ÑƒÑ€Ð¾Ð²Ð½Ñ"]})]})]})},Oe=w.div`
  background: ${({theme:e})=>e.color.surface};
  border: 2px solid ${({theme:e})=>e.color.border};
  border-radius: ${k.radius.card};
  padding: ${k.space.lg};
  margin-bottom: ${k.space.lg};
`,Te=w.h3`
  font-size: ${k.typography.fontSize.lg};
  font-weight: ${k.typography.fontWeight.semibold};
  font-family: ${k.typography.fontFamily.primary};
  color: ${({theme:e})=>e.color.text};
  margin: 0 0 ${k.space.lg} 0;
  line-height: ${k.typography.lineHeight.tight};
`,_e=w.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: ${k.space.md} 0;
  border-bottom: 1px solid ${({theme:e})=>e.color.border};

  &:last-child {
    border-bottom: none;
  }
`,Pe=w.div`
  flex: 1;
`,Re=w.div`
  font-size: ${k.typography.fontSize.base};
  font-weight: ${k.typography.fontWeight.medium};
  font-family: ${k.typography.fontFamily.primary};
  color: ${({theme:e})=>e.color.text};
  margin-bottom: ${k.space.xs};
  line-height: ${k.typography.lineHeight.normal};
`,Be=w.div`
  font-size: ${k.typography.fontSize.sm};
  font-weight: ${k.typography.fontWeight.normal};
  font-family: ${k.typography.fontFamily.primary};
  color: ${({theme:e})=>e.color.textMuted};
  line-height: ${k.typography.lineHeight.normal};
`,Le=w(h.button)`
  width: 50px;
  height: 28px;
  border-radius: 14px;
  border: none;
  cursor: pointer;
  position: relative;
  background: ${({$isOn:e,theme:t})=>e?`linear-gradient(135deg, ${t.color.pet.primary}, ${t.color.warm.medium})`:t.color.border};
  transition: all ${k.motion.fast} ${k.motion.easing};

  &::after {
    content: '';
    position: absolute;
    top: 2px;
    left: ${({$isOn:e})=>e?"24px":"2px"};
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: white;
    transition: left ${k.motion.fast} ${k.motion.easing};
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  }

  &:hover {
    transform: scale(1.05);
  }

  &:active {
    transform: scale(0.95);
  }

  &:focus-visible {
    outline: 2px solid ${({theme:e})=>e.color.pet.accent};
    outline-offset: 2px;
  }
`,He=()=>{const{prefs:e,setLeftHanded:t,setReducedMotion:o}=oe();return u.jsxs(Oe,{children:[u.jsx(Te,{children:"ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ°"}),u.jsxs(_e,{children:[u.jsxs(Pe,{children:[u.jsx(Re,{children:"Ð›ÐµÐ²ÑˆÐ°"}),u.jsx(Be,{children:"ÐŸÐµÑ€ÐµÐ¼ÐµÑ‰Ð°ÐµÑ‚ Ð¿Ð»Ð°Ð²Ð°ÑŽÑ‰Ð¸Ðµ ÐºÐ½Ð¾Ð¿ÐºÐ¸ Ð² Ð»ÐµÐ²ÑƒÑŽ Ñ‡Ð°ÑÑ‚ÑŒ ÑÐºÑ€Ð°Ð½Ð°"})]}),u.jsx(Le,{$isOn:e.leftHanded,onClick:()=>{t(!e.leftHanded),me()},whileHover:{scale:1.05},whileTap:{scale:.95},transition:{duration:.1},"aria-label":e.leftHanded?"ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ñ€ÐµÐ¶Ð¸Ð¼ Ð»ÐµÐ²ÑˆÐ¸":"Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ñ€ÐµÐ¶Ð¸Ð¼ Ð»ÐµÐ²ÑˆÐ¸"})]}),u.jsxs(_e,{children:[u.jsxs(Pe,{children:[u.jsx(Re,{children:"Ð£Ð¼ÐµÐ½ÑŒÑˆÐ¸Ñ‚ÑŒ Ð°Ð½Ð¸Ð¼Ð°Ñ†Ð¸Ð¸"}),u.jsx(Be,{children:"ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ Ð°Ð½Ð¸Ð¼Ð°Ñ†Ð¸Ð¸ Ð´Ð»Ñ Ð»ÑƒÑ‡ÑˆÐµÐ¹ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸"})]}),u.jsx(Le,{$isOn:e.reducedMotion,onClick:()=>{o(!e.reducedMotion),me()},whileHover:{scale:1.05},whileTap:{scale:.95},transition:{duration:.1},"aria-label":e.reducedMotion?"Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð°Ð½Ð¸Ð¼Ð°Ñ†Ð¸Ð¸":"ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð°Ð½Ð¸Ð¼Ð°Ñ†Ð¸Ð¸"})]})]})},We=w.div`
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: ${({theme:e})=>e.color.surface};
  border-top: 1px solid ${({theme:e})=>e.color.border};
  padding: ${k.space.sm} ${k.space.md};
  padding-bottom: max(${k.space.sm}, env(safe-area-inset-bottom));
  z-index: ${k.zones.layerBottomElev};
  display: flex;
  justify-content: space-around;
  align-items: center;
  box-shadow: 0 -2px 10px ${k.color.shadow};
  min-height: calc(56px + env(safe-area-inset-bottom, 0));
`,Ne=w.button`
  display: flex;
  align-items: center;
  justify-content: center;
  background: ${({$isActive:e,theme:t})=>e?t.color.pet.accent+"20":"none"};
  border: none;
  cursor: pointer;
  padding: ${k.space.sm};
  border-radius: ${k.radius.button};
  transition: all ${k.motion.base} ${k.motion.easing};
  min-width: 48px;
  min-height: 48px;
  position: relative;

  &:hover {
    background: ${({theme:e})=>e.color.pet.accent+"10"};
  }

  &:focus-visible {
    outline: 2px solid ${({theme:e})=>e.color.pet.accent};
    outline-offset: 2px;
  }
`,Ve=w.div`
  font-size: 28px;
  line-height: 1;
  color: ${({$isActive:e,theme:t})=>e?t.color.pet.primary:t.color.textMuted};
  transition: all ${k.motion.base} ${k.motion.easing};
  display: flex;
  align-items: center;
  justify-content: center;
`,Ue=w(h.div)`
  position: absolute;
  top: 4px;
  right: 4px;
  background: #EF4444;
  color: white;
  font-size: 10px;
  font-weight: 700;
  min-width: 16px;
  height: 16px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
`,Je=({items:e,activeItem:t,onItemClick:o})=>u.jsx(We,{children:e.map(e=>u.jsxs(Ne,{$isActive:t===e.id,onClick:()=>o(e.id),"aria-label":e.label,children:[u.jsx(Ve,{$isActive:t===e.id,children:e.icon}),e.badge&&e.badge>0&&u.jsx(Ue,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},children:e.badge>99?"99+":e.badge})]},e.id))}),Ge=w.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 200px;
  padding: ${k.space.lg};
  text-align: center;
  background: ${({theme:e})=>e.color.surface};
  border: 1px solid ${({theme:e})=>e.color.border};
  border-radius: ${k.radius.card};
  margin: ${k.space.md};
`,qe=w.h2`
  font-size: ${k.typography.fontSize.lg};
  font-weight: ${k.typography.fontWeight.semibold};
  color: ${({theme:e})=>e.color.text};
  margin: 0 0 ${k.space.md} 0;
`,Xe=w.p`
  font-size: ${k.typography.fontSize.base};
  color: ${({theme:e})=>e.color.textMuted};
  margin: 0 0 ${k.space.lg} 0;
  line-height: ${k.typography.lineHeight.normal};
`,Ye=w.button`
  background: ${({theme:e})=>e.color.accent};
  color: white;
  border: none;
  border-radius: ${k.radius.button};
  padding: ${k.space.md} ${k.space.lg};
  font-size: ${k.typography.fontSize.base};
  font-weight: ${k.typography.fontWeight.medium};
  cursor: pointer;
  transition: all ${k.motion.fast} ${k.motion.easing};

  &:hover {
    opacity: 0.9;
    transform: translateY(-1px);
  }

  &:active {
    transform: translateY(0);
  }

  &:focus-visible {
    outline: 2px solid ${({theme:e})=>e.color.accent};
    outline-offset: 2px;
  }
`;class Ke extends x.Component{constructor(){super(...arguments),d(this,"state",{hasError:!1}),d(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})})}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?this.props.fallback?this.props.fallback:u.jsxs(Ge,{children:[u.jsx(qe,{children:"Ð§Ñ‚Ð¾-Ñ‚Ð¾ Ð¿Ð¾ÑˆÐ»Ð¾ Ð½Ðµ Ñ‚Ð°Ðº ðŸ˜”"}),u.jsx(Xe,{children:"ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð½ÐµÐ¾Ð¶Ð¸Ð´Ð°Ð½Ð½Ð°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ°. ÐÐµ Ð²Ð¾Ð»Ð½ÑƒÐ¹ÑÑ, ÑÑ‚Ð¾ Ð½Ðµ Ñ‚Ð²Ð¾Ñ Ð²Ð¸Ð½Ð°."}),u.jsx(Ye,{onClick:this.handleRetry,children:"ÐŸÐ¾Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ñ‚ÑŒ ÑÐ½Ð¾Ð²Ð°"})]}):this.props.children}}const Ze=v`
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
`,Qe=w.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: ${k.space.xl};
  min-height: 200px;
`,et=w.div`
  width: 40px;
  height: 40px;
  border: 3px solid ${({theme:e})=>e.color.border};
  border-top: 3px solid ${({theme:e})=>e.color.accent};
  border-radius: 50%;
  animation: ${Ze} 1s linear infinite;
  margin-bottom: ${k.space.md};
`,tt=w.p`
  font-size: ${k.typography.fontSize.base};
  color: ${({theme:e})=>e.color.textMuted};
  margin: 0;
  text-align: center;
`,ot=({message:e="Ð—Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÐ¼..."})=>u.jsxs(Qe,{children:[u.jsx(et,{}),u.jsx(tt,{children:e})]}),it=x.lazy(()=>_(()=>import("./RitualsPager-DvKf8rDD.js"),__vite__mapDeps([0,1,2,3,4,5,6])).then(e=>({default:e.RitualsPager}))),nt=x.lazy(()=>_(()=>import("./EmotionalDiary-Bv1C9Lhg.js"),__vite__mapDeps([7,1,2,3,4,5,6])).then(e=>({default:e.EmotionalDiary}))),rt=x.lazy(()=>_(()=>import("./Shop-4-m_CmKe.js"),__vite__mapDeps([8,1,2,3,6])).then(e=>({default:e.Shop}))),at=x.lazy(()=>_(()=>import("./ProfileSection-Bs7oOsi-.js"),__vite__mapDeps([9,1,2,3,6])).then(e=>({default:e.ProfileSection}))),st=x.lazy(()=>_(()=>import("./SoundSettings-JpBLhFZX.js"),__vite__mapDeps([10,1,2,3,6])).then(e=>({default:e.SoundSettings}))),lt=x.lazy(()=>_(()=>import("./SupportCard-CnJ6PJLM.js"),__vite__mapDeps([11,1,2,3,5,6])).then(e=>({default:e.SupportCard}))),ct=w.div`
  min-height: 100dvh;
  background: ${({theme:e})=>e.color.bg};
  display: grid;
  grid-template-rows: 1fr auto;
`,dt=w.div`
  max-width: 600px;
  margin: 0 auto;
  width: 100%;
  padding-bottom: calc(56px + env(safe-area-inset-bottom, 0));
`,pt=()=>{const[e,t]=x.useState("rituals"),[o,i]=x.useState(!1),[n,r]=x.useState([]),[a,s]=x.useState("happy"),{toasts:d,showToast:h,hideToast:m}=(()=>{const[e,t]=x.useState([]);return{toasts:e,showToast:x.useCallback((e,o={})=>{const i=Date.now().toString(36)+Math.random().toString(36).slice(2),n={id:i,message:e,options:l({duration:3e3},o)};return t(e=>[...e,n]),n.options.duration&&n.options.duration>0&&setTimeout(()=>{t(e=>e.filter(e=>e.id!==i))},n.options.duration),i},[]),hideToast:x.useCallback(e=>{t(t=>t.filter(t=>t.id!==e))},[]),hideAllToasts:x.useCallback(()=>{t([])},[])}})(),{todos:g,resetAllTodos:f,stats:b}=(()=>{const[e,t]=x.useState([]);x.useEffect(()=>{const e=P(L,[]);t(e)},[]);const o=x.useCallback(e=>{t(e),R(L,e)},[]),i=x.useCallback((t,i,n)=>{const r=B(t);if(!r.isValid)throw new Error(r.error);const a=(new Date).toISOString(),s={id:Date.now().toString(36)+Math.random().toString(36).slice(2),text:t.trim(),completed:!1,points:"easy"===n?1:"medium"===n?2:3,category:i,energy:n,createdAt:a,updatedAt:a},l=[...e,s];return o(l),s},[e,o]),n=x.useCallback(t=>{const i=e.map(e=>{if(e.id===t){const t=(new Date).toISOString();return c(l({},e),{completed:!e.completed,completedAt:e.completed?void 0:t,updatedAt:t})}return e});o(i)},[e,o]),r=x.useCallback(t=>{const i=e.map(e=>e.id===t?c(l({},e),{deletedAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()}):e);o(i)},[e,o]),a=x.useCallback(()=>{const t=e.filter(e=>e.completed),i=e.filter(e=>!e.completed);return o(i),t},[e,o]),s=x.useCallback(t=>{const i=[...e,...t];o(i)},[e,o]),d=x.useCallback(()=>{o([])},[o]),p={total:e.length,completed:e.filter(e=>e.completed).length,pending:e.filter(e=>!e.completed).length,totalPoints:e.filter(e=>e.completed).reduce((e,t)=>e+t.points,0)};return{todos:e,addTodo:i,toggleTodo:n,deleteTodo:r,clearCompleted:a,restoreCompleted:s,resetAllTodos:d,stats:p}})(),{gameState:y,addPoints:w,spendPoints:v,resetGameState:S,expForNextLevel:$}=(()=>{const[e,t]=x.useState(V);x.useEffect(()=>{const e=P(H,V);t(e)},[]);const o=x.useCallback(e=>{t(e),R(H,e)},[]),i=x.useCallback(t=>{const i=l({},e);i.points+=t,i.experience+=t;const n=N(i.level);i.experience>=n&&(i.level+=1,i.experience-=n);const r=W();if(i.lastActivityDateUTC!==r){const e=new Date;e.setDate(e.getDate()-1);const t=e.toISOString().split("T")[0];i.lastActivityDateUTC===t?i.streak+=1:i.streak=1,i.lastActivityDateUTC=r}return o(i),i},[e,o]),n=x.useCallback(t=>{if(e.points>=t){const i=c(l({},e),{points:e.points-t});return o(i),!0}return!1},[e,o]),r=x.useCallback(t=>{if(!e.achievements.includes(t)){const i=c(l({},e),{achievements:[...e.achievements,t]});o(i)}},[e,o]),a=x.useCallback(()=>{o(V)},[o]),s=N(e.level),d=e.experience/s;return{gameState:e,addPoints:i,spendPoints:n,addAchievement:r,resetGameState:a,expForNextLevel:s,progressToNextLevel:d}})(),{celebrateCompletion:C}=G(),{completedRituals:k,dailyStreak:j,completeRitual:E}=(()=>{const[e,t]=x.useState([]),[o,i]=x.useState([]),[n,r]=x.useState(0);x.useEffect(()=>{const e=P("gropy-completed-rituals",[]),o=P("gropy-diary-entries",[]),n=P("gropy-daily-streak",0);t(e),i(o),r(n)},[]);const a=x.useCallback(()=>{const e=(new Date).toDateString();return P("gropy-ritual-history",[]).filter(t=>new Date(t.date).toDateString()===e).length>0},[]),s=x.useCallback(o=>{const i=(new Date).toDateString(),s=[...e,o];t(s),R("gropy-completed-rituals",s);const l=[...P("gropy-ritual-history",[]),{id:`${o}-${Date.now()}`,date:i,ritualId:o,timestamp:Date.now()}];if(R("gropy-ritual-history",l),!a()){const e=n+1;r(e),R("gropy-daily-streak",e)}return!0},[e,n,a]),l=x.useCallback((e,t,n)=>{const r={id:`diary-${Date.now()}`,date:(new Date).toISOString(),emotion:e,emotionIcon:t,reflection:n,timestamp:Date.now()},a=[r,...o];return i(a),R("gropy-diary-entries",a),r},[o]),c=x.useCallback(()=>{t([]),R("gropy-completed-rituals",[])},[]),d=x.useCallback(()=>{const e=(new Date).toDateString(),t=P("gropy-ritual-history",[]).filter(t=>new Date(t.date).toDateString()===e);return{completed:t.length,maxDaily:3,remaining:Math.max(0,3-t.length)}},[]),p=x.useCallback(()=>{const e=new Date;e.setDate(e.getDate()-7);const t=P("gropy-ritual-history",[]).filter(t=>new Date(t.date)>=e),i=o.filter(t=>new Date(t.date)>=e);return{ritualsCompleted:t.length,diaryEntries:i.length,activeDays:new Set(t.map(e=>new Date(e.date).toDateString())).size}},[o]),u=x.useCallback(()=>{const e=d();return 0===e.completed?"Ð´Ð¾Ð±Ñ€Ð¾ Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ! Ð²Ñ‹Ð±ÐµÑ€Ð¸ Ð¾Ð´Ð½Ð¾ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ ðŸŒ¿":e.completed<e.maxDaily?"Ð¾Ñ‚Ð»Ð¸Ñ‡Ð½Ð¾! Ñ‚Ñ‹ Ð½Ð° Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð¼ Ð¿ÑƒÑ‚Ð¸ âœ¨":"ÑÐµÐ³Ð¾Ð´Ð½Ñ Ñ‚Ñ‹ ÑÐ´ÐµÐ»Ð°Ð» Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾. Ð¾Ñ‚Ð´Ð¾Ñ…Ð½Ð¸ ðŸ’š"},[d]);return{completedRituals:e,diaryEntries:o,dailyStreak:n,completeRitual:s,saveDiaryEntry:l,resetDailyRituals:c,getTodayProgress:d,getWeeklyStats:p,getMotivationalMessage:u,hasCompletedToday:a}})();oe(),Q(),x.useEffect(()=>{const e=P("gropy-owned-items",[]);r(e)},[]);const D=P("gropy-completed-suggestions",[]),F=x.useCallback(e=>{E(e)&&(w(1),C(),i(!0),s("excited"),h("Ñ€Ð¸Ñ‚ÑƒÐ°Ð» Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½! âœ¨",{action:{label:"Ð¾Ñ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ",onAction:()=>{}}}),setTimeout(()=>{s("happy")},3e3))},[E,w,C,h]),A=x.useCallback(e=>p(void 0,null,function*(){return h("Ð·Ð°Ð¿Ð¸ÑÑŒ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð° ðŸ’š"),"sun"===e.mood||"rainbow"===e.mood||"stars"===e.mood?s("happy"):"rain"===e.mood||"storm"===e.mood||"clouds"===e.mood?s("calm"):"wind"===e.mood||"moon"===e.mood?s("sleepy"):s("happy"),e}),[h]),M=x.useCallback(e=>{if(v(10)){const t=[...n,e];r(t),R("gropy-owned-items",t),h("Ð¿Ð¾ÐºÑƒÐ¿ÐºÐ° ÑÐ¾Ð²ÐµÑ€ÑˆÐµÐ½Ð°! ðŸŽ‰")}else h("Ð½ÐµÐ´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð¾Ñ‡ÐºÐ¾Ð²")},[n,v,h]),z=x.useCallback(()=>{const e={todos:g,gameState:y,ownedItems:n,completedSuggestions:D,exportDate:(new Date).toISOString()},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),o=URL.createObjectURL(t),i=document.createElement("a");i.href=o,i.download=`gropy-backup-${(new Date).toISOString().split("T")[0]}.json`,i.click(),URL.revokeObjectURL(o),h("Ð´Ð°Ð½Ð½Ñ‹Ðµ ÑÐºÑÐ¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹! ðŸ“¤")},[g,y,n,D,h]),I=x.useCallback(e=>{try{JSON.parse(e),h("Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹! ðŸ“¥")}catch(t){h("Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¸Ð¼Ð¿Ð¾Ñ€Ñ‚Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…")}},[h]),O=x.useCallback(()=>{f(),S(),r([]);try{const e=[];for(let t=0;t<localStorage.length;t++){const o=localStorage.key(t);o&&o.startsWith("gropy-")&&e.push(o)}e.forEach(e=>localStorage.removeItem(e))}catch(e){}try{"caches"in window&&caches.keys().then(e=>{e.filter(e=>e.startsWith("gropy")).forEach(e=>caches.delete(e))})}catch(e){}h("Ð²ÑÐµ Ð´Ð°Ð½Ð½Ñ‹Ðµ ÑÐ±Ñ€Ð¾ÑˆÐµÐ½Ñ‹"),setTimeout(()=>{window.location.reload()},250)},[f,S,h]);x.useEffect(()=>{if(o){const e=setTimeout(()=>{i(!1)},3e3);return()=>clearTimeout(e)}},[o]);return u.jsx(Ke,{children:u.jsxs(ct,{children:[u.jsx(dt,{children:(()=>{switch(e){case"rituals":return u.jsx(x.Suspense,{fallback:u.jsx(ot,{message:"Ð—Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÐ¼ Ñ€Ð¸Ñ‚ÑƒÐ°Ð»Ñ‹..."}),children:u.jsx(it,{completedRituals:k,onCompleteRitual:F,maxDailyRituals:3})});case"diary":return u.jsx(x.Suspense,{fallback:u.jsx(ot,{message:"Ð—Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÐ¼ Ð´Ð½ÐµÐ²Ð½Ð¸Ðº..."}),children:u.jsx(nt,{onSaveEntry:A})});case"stats":return u.jsxs(u.Fragment,{children:[u.jsx(Ie,{level:y.level,experience:y.experience,expForNextLevel:$,points:y.points,streak:j,totalCompleted:b.completed,totalPoints:b.totalPoints}),u.jsx(x.Suspense,{fallback:u.jsx(ot,{message:"Ð—Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÐ¼ Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½..."}),children:u.jsx(rt,{points:y.points,ownedItems:n,onPurchase:M})})]});case"profile":return u.jsxs(u.Fragment,{children:[u.jsx(He,{}),u.jsx(x.Suspense,{fallback:u.jsx(ot,{message:"Ð—Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÐ¼ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÑƒ..."}),children:u.jsx(lt,{})}),u.jsx(x.Suspense,{fallback:u.jsx(ot,{message:"Ð—Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÐ¼ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð·Ð²ÑƒÐºÐ°..."}),children:u.jsx(st,{})}),u.jsx(x.Suspense,{fallback:u.jsx(ot,{message:"Ð—Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÐ¼ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ..."}),children:u.jsx(at,{onExportData:z,onImportData:I,onResetAll:O})})]});default:return null}})()}),u.jsx(Se,{showVictoryBubble:o,onVictoryBubbleShown:()=>i(!1),petMood:a}),u.jsx(pe,{}),u.jsx(se,{toasts:d,onHide:m}),u.jsx(Je,{items:[{id:"rituals",label:"Ð Ð¸Ñ‚ÑƒÐ°Ð»Ñ‹",icon:"ðŸŒ¿"},{id:"diary",label:"Ð”Ð½ÐµÐ²Ð½Ð¸Ðº",icon:"ðŸ“–"},{id:"stats",label:"ÐŸÑ€Ð¾Ð³Ñ€ÐµÑÑ",icon:"ðŸ“Š"},{id:"profile",label:"ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ",icon:"ðŸ‘¤"}],activeItem:e,onItemClick:e=>t(e)})]})})};if(null==(e=window.Telegram)?void 0:e.WebApp){const e=window.Telegram.WebApp;e.ready(),e.expand()}p(void 0,null,function*(){if("serviceWorker"in navigator)try{const e=yield navigator.serviceWorker.register("/sw.js",{scope:"/"});return e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&confirm("Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð¾ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ. ÐŸÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñƒ?")&&window.location.reload()})}),e}catch(e){}}),$.createRoot(document.getElementById("root")).render(u.jsx(f.StrictMode,{children:u.jsxs(z,{children:[u.jsx(O,{}),u.jsx(pt,{})]})}));export{R as a,he as b,ge as c,I as d,ue as e,xe as f,me as p,P as s,k as t,Q as u};
